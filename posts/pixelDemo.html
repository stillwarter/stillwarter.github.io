<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>像素初探 | 🍂 stillwarter</title>
    <meta name="description" content="A VitePress Site">
    <link rel="preload stylesheet" href="/assets/style.8871e302.css" as="style">
    <script type="module" src="/assets/app.6c6d53ad.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
  <link rel="modulepreload" href="/assets/chunks/framework.d770699b.js">
  <link rel="modulepreload" href="/assets/chunks/theme.102df6b3.js">
  <link rel="modulepreload" href="/assets/posts_pixelDemo.md.a02e63b7.lean.js">
  <link rel="icon" href="/catear.gif">
  <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><!--[--><div class="Layout" data-v-6cc74b1c data-v-d2123c88><!--[--><!--]--><!--[--><span tabindex="-1" data-v-f47c0811></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-f47c0811> Skip to content </a><!--]--><!----><header class="VPNav" data-v-d2123c88 data-v-27b31f5a><div class="VPNavBar" data-v-27b31f5a data-v-fa892d67><div class="container" data-v-fa892d67><div class="title" data-v-fa892d67><div class="VPNavBarTitle" data-v-fa892d67 data-v-8d8406a0><a class="title" href="/" data-v-8d8406a0><!--[--><!--]--><!----><!--[-->🍂 stillwarter<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-fa892d67><div class="curtain" data-v-fa892d67></div><div class="content-body" data-v-fa892d67><!--[--><!--]--><!----><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-fa892d67 data-v-ba02a7a1><span id="main-nav-aria-label" class="visually-hidden" data-v-ba02a7a1>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/plan.html" tabindex="0" data-v-ba02a7a1 data-v-43041603 data-v-04ef86fd><!--[-->📈计划<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/tag.html" tabindex="0" data-v-ba02a7a1 data-v-43041603 data-v-04ef86fd><!--[-->🗃️标签<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/archives.html" tabindex="0" data-v-ba02a7a1 data-v-43041603 data-v-04ef86fd><!--[-->📖文章<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/teancherandfrends.html" tabindex="0" data-v-ba02a7a1 data-v-43041603 data-v-04ef86fd><!--[-->📔友人帐<!--]--><!----></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-fa892d67 data-v-48cb7751><label title="toggle dark mode" data-v-48cb7751 data-v-8636bd77><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-checked="false" data-v-8636bd77 data-v-3b42ee5f><span class="check" data-v-3b42ee5f><span class="icon" data-v-3b42ee5f><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-8636bd77><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-8636bd77><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></label></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-fa892d67 data-v-4861fbdc data-v-621fb73e><!--[--><a class="VPSocialLink" href="https://github.com/stillwarter" aria-label="github" target="_blank" rel="noopener" data-v-621fb73e data-v-6b699dfb><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><a class="VPSocialLink" href="https://fishpi.cn" aria-label target="_blank" rel="noopener" data-v-621fb73e data-v-6b699dfb><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="body_1" width="48" height="48"><g transform="matrix(1.3333334 0 0 1.3333334 0 0)"><image  x="0" y="0" xlink:href="data:image/png;base64,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" preserveAspectRatio="none" width="15" height="15"/></g></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-fa892d67 data-v-04e6b5f7 data-v-96d2a210><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-96d2a210><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-96d2a210><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-96d2a210><div class="VPMenu" data-v-96d2a210 data-v-970d8dee><!----><!--[--><!--[--><!----><div class="group" data-v-04e6b5f7><div class="item appearance" data-v-04e6b5f7><p class="label" data-v-04e6b5f7>Appearance</p><div class="appearance-action" data-v-04e6b5f7><label title="toggle dark mode" data-v-04e6b5f7 data-v-8636bd77><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-checked="false" data-v-8636bd77 data-v-3b42ee5f><span class="check" data-v-3b42ee5f><span class="icon" data-v-3b42ee5f><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-8636bd77><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-8636bd77><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></label></div></div></div><div class="group" data-v-04e6b5f7><div class="item social-links" data-v-04e6b5f7><div class="VPSocialLinks social-links-list" data-v-04e6b5f7 data-v-621fb73e><!--[--><a class="VPSocialLink" href="https://github.com/stillwarter" aria-label="github" target="_blank" rel="noopener" data-v-621fb73e data-v-6b699dfb><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><a class="VPSocialLink" href="https://fishpi.cn" aria-label target="_blank" rel="noopener" data-v-621fb73e data-v-6b699dfb><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="body_1" width="48" height="48"><g transform="matrix(1.3333334 0 0 1.3333334 0 0)"><image  x="0" y="0" xlink:href="data:image/png;base64,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" preserveAspectRatio="none" width="15" height="15"/></g></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-fa892d67 data-v-d4699fd4><span class="container" data-v-d4699fd4><span class="top" data-v-d4699fd4></span><span class="middle" data-v-d4699fd4></span><span class="bottom" data-v-d4699fd4></span></span></button></div></div></div></div><!----></header><!----><!----><div class="VPContent" id="VPContent" data-v-d2123c88 data-v-94d36e3e><div class="VPDoc has-aside" data-v-94d36e3e data-v-8f7aee6d><div class="container" data-v-8f7aee6d><div class="aside" data-v-8f7aee6d><div class="aside-curtain" data-v-8f7aee6d></div><div class="aside-container" data-v-8f7aee6d><div class="aside-content" data-v-8f7aee6d><div class="VPDocAside" data-v-8f7aee6d data-v-d53084f2><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-d53084f2 data-v-43dcfa36><div class="content" data-v-43dcfa36><div class="outline-marker" data-v-43dcfa36></div><div class="outline-title" data-v-43dcfa36>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-43dcfa36><span class="visually-hidden" id="doc-outline-aria-label" data-v-43dcfa36> Table of Contents for current page </span><ul class="root" data-v-43dcfa36 data-v-c26834a8><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-d53084f2></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-8f7aee6d><div class="content-container" data-v-8f7aee6d><!--[--><!--]--><div class="VPDocOutlineDropdown" data-v-8f7aee6d data-v-45627678><button class="" data-v-45627678>On this page <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-45627678><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></button><!----></div><main class="main" data-v-8f7aee6d><div style="position:relative;" class="vp-doc _posts_pixelDemo" data-v-8f7aee6d><div><h1 id="整点没用的-canvas-and-pixel" tabindex="-1">整点没用的 -- canvas and pixel <a class="header-anchor" href="#整点没用的-canvas-and-pixel" aria-label="Permalink to &quot;整点没用的 -- canvas and pixel&quot;">​</a></h1><p>展示一种绘制像素画的方式，简单的使用canvas api + js 就可以实现逐帧动画。我的内容里可能有许多描述错误或不严谨的地方，请见谅，若有错误可以在<a href="https://fishpi.cn/member/stillwarter" target="_blank" rel="noreferrer">鱼排</a>指出！</p><h2 id="前言" tabindex="-1">前言 <a class="header-anchor" href="#前言" aria-label="Permalink to &quot;前言&quot;">​</a></h2><p>游戏和动漫确实占据了我大部分的青春，对于我这样不善言辞的社交败类，游戏和动漫是低门槛的娱乐方式。我最早有印象的动画就是宫崎骏的《猫的报恩》，真的当时那个环境下，这样的画质是真的令人印象深刻。所以说长大后更喜欢猫是有原因的；我真的很喜欢美丽的图像，理想来说我应该去画画的，但初中上画画的时候，看着自己的作品，果断放弃了这个念想。</p><p>后来上大学看到别人写网页写的好好看，于是加入了这行，自己逐渐尝试构建好看的页面，或许回首望去我会后悔，但对我来说，当下哪有那么多选择呢？</p><p>ogay，题外话结束，我慢慢熟悉一些绘图方法后，就产生了自己写动画的想法，并不是使用css或js去操纵dom实现动画，而是实实在在的画图，然后绘制逐帧动画。</p><h2 id="_1-探索阶段" tabindex="-1">1.探索阶段 <a class="header-anchor" href="#_1-探索阶段" aria-label="Permalink to &quot;1.探索阶段&quot;">​</a></h2><p>在进行正式的开发之前，我需要考虑canvas+js是否能完成我想要达到的渲染效果，所以我先做了一个简单的渲染demo--</p><div class="main" data-v-9171b73f><div data-v-9171b73f><canvas id="pixel" width="500" height="500" data-v-9171b73f></canvas></div></div><h3 id="_1-1-探索实现方式" tabindex="-1">1.1 探索实现方式 <a class="header-anchor" href="#_1-1-探索实现方式" aria-label="Permalink to &quot;1.1 探索实现方式&quot;">​</a></h3><p>作为一个玩浏览器的人来说，最简单的动画进行方式就是将画好帧进行更换，不过由于帧率更新很快，所以一般的图片加载速度是跟不上的，而且我不是搞画画的，完全没有可行性。</p><p>有没有一种方便绘制，方便加载，易于更新的手段来进行绘制呢？</p><p>有，早年的游戏都是像素游戏，像素画相对好临摹，而且是一个一个大的连续的像素点，这意味着是可以控制建模的；就像3d建模一样，我也可以简单的给像素画的内小元素进行建模，然后绘制。</p><h3 id="_1-2-探索绘图方式" tabindex="-1">1.2 探索绘图方式 <a class="header-anchor" href="#_1-2-探索绘图方式" aria-label="Permalink to &quot;1.2 探索绘图方式&quot;">​</a></h3><p>ogay，敲定了研究方向，那么我先想想如何去处理一张像素图？最简单就是手绘，你自己画就行了；有能力的也可以使用canvas去生成像素画（我试着去分析图像，但给的数据量很大，我还是放弃了这种做法，决定先做简单的）。</p><p>然后我这里使用的是make8bit那个在线像素画板，你也可以用pixilart那个，我只是喜欢前者更简洁（因为我只需要收集像素点信息）。</p><h3 id="_1-3-探索建模方式" tabindex="-1">1.3 探索建模方式 <a class="header-anchor" href="#_1-3-探索建模方式" aria-label="Permalink to &quot;1.3 探索建模方式&quot;">​</a></h3><p>2d图像有建模这个概念嘛？我不是很清楚，只是我要对图像相似的地方进行处理，统一渲染。以马里奥为例，他的帽子可以作为一个部分，我建立这个帽子的点集数据，由于点击是横向数据更连续，所以我这样声明：</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> cap </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">start</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#F78C6C;">7</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">len</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">5</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">transparent</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">start</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#F78C6C;">6</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">len</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">8</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">transparent</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><p>cap数组就包含了我需要的信息，每个数据元素都对应该部分从上到下每一行的数据，比如cap的第一个数据元，就是马里奥帽子的第一行点集合，起始点是7，0，该行长度为5，不透明；</p><p>对于不连续的点我是这样声明的：</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> beardhair </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">point</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#F78C6C;">6</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">7</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">8</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">row</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">point</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#F78C6C;">5</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">8</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">row</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">point</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#F78C6C;">5</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">7</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">8</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">9</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">row</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">4</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">point</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#F78C6C;">5</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">6</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">11</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">12</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">13</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">14</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">row</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">5</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><p>（不解释辣，很好懂得）</p><p>依次类推，我可以收集所有点的数据。</p><h3 id="_1-4-探索渲染方式" tabindex="-1">1.4 探索渲染方式 <a class="header-anchor" href="#_1-4-探索渲染方式" aria-label="Permalink to &quot;1.4 探索渲染方式&quot;">​</a></h3><p>现在我已经有了图，有了像素点信息，我得想办法将它渲染出来。</p><p>我是玩浏览器的，并不是专业的绘图手和渲染师，所以我用我的方式来制作。起始最初想到是dom进行渲染，绘制一个个小方块还是挺方便的，也有能力去操纵，但是如果像素点很多呢；（我还是有点想法的，希望这个手段能成为前端绘图的一种方案。）所以决定使用canvas来进行渲染。</p><p>不过我canvas玩的很少，就大学稍稍看了一个Anthony Fu的树生成动画，基本没怎么研究过，算是从头开始了。</p><h4 id="_1-4-1-像素网渲染" tabindex="-1">1.4.1 像素网渲染 <a class="header-anchor" href="#_1-4-1-像素网渲染" aria-label="Permalink to &quot;1.4.1 像素网渲染&quot;">​</a></h4><p>为了方便我收集像素点坐标，首先我需要生成网状图，也就是一个一个的透明格子，这个我好去看对应像素点的坐标。</p><p>绘制网格也很简单，只需要根据canvas大小和你设定的像素点大小去画线就行。</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> mypixel </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getElementById</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">pixel</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> tools </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> mypixel</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getContext</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">2d</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// tools.moveTo(100, 100);</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// tools.lineTo(200, 100);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// tools.moveTo(100, 120.5);</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// tools.lineTo(200, 120.5);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// tools.moveTo(100.5, 10);</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// tools.lineTo(100.5, 110);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;">/*</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   这两条线宽度不一样，前者是2像素，后者是1像素。为什么呢？</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   实际canvas在划线的时候，是以当前坐标为中心轴，分别向上向下延申去画线。问题是电脑屏幕显示最小单位就是1像素，所以就直接画2像素；</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   并且为了看起来是1像素，它还调低了颜色，所以前者线条看起来淡一些。</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   解决方式是将坐标设置为.5，因为中轴在像素的中心点，所以显示的就是1像素。</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   若绘制水平方向的1像素的线条，就让y左边变为.5,若绘制竖直方向1像素的线条，则让x坐标变为.5</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">  */</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;">/*</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   当前宽高都是500px,我做一个20*20的格子底，线之间的距离为25px；第一条线起点是（0，25）</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   当前宽高都是500px,我做一个50*50的格子底，线之间的距离为10px；第一条线起点是（0，10）</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">  */</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#A6ACCD;"> (</span><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> i </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> i </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">30</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> i</span><span style="color:#89DDFF;">++</span><span style="color:#A6ACCD;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">tools</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">moveTo</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">25</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0.5</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">tools</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">lineTo</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">500</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">25</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0.5</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">tools</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">moveTo</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">25</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0.5</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">tools</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">lineTo</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">25</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0.5</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">500</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  tools</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">strokeStyle </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">white</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  tools</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">stroke</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><p>有了网格后，我只需要向网格填充像素点就可以了，使用canvas api就可以绘制方块，非常方便。不过在正式填充前，我需要收集像素点信息，按照一定方式去渲染，若是一个一个填充会显得很傻，我可以按行或者按列，将图像分成各个部分，去渲染。</p><h4 id="_1-4-2-点数据转换" tabindex="-1">1.4.2 点数据转换 <a class="header-anchor" href="#_1-4-2-点数据转换" aria-label="Permalink to &quot;1.4.2 点数据转换&quot;">​</a></h4><p>我需要将记录下的点集合转换为方便渲染的数据集合，以马里奥胡子和帽子数据为例：</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">setcappixel</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#F07178;"> (</span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">key</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">in</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">capaim</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">s</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">capaim</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">key</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">start</span><span style="color:#F07178;">[</span><span style="color:#F78C6C;">0</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">l</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">capaim</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">key</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">len</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">end</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">s</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">l</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#F07178;"> (</span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">capaim</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">key</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">start</span><span style="color:#F07178;">[</span><span style="color:#F78C6C;">0</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&lt;=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">end</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#89DDFF;">++</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">capixel</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">push</span><span style="color:#F07178;">([</span><span style="color:#A6ACCD;">i</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">Number</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">key</span><span style="color:#F07178;">)])</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">capaim</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">key</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">transparent</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">dmax</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#A6ACCD;">capaim</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">key</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">transparent</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">start</span><span style="color:#F07178;">[</span><span style="color:#F78C6C;">0</span><span style="color:#F07178;">] </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">capaim</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">key</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">transparent</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">len</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">dmin</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">capaim</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">key</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">transparent</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">start</span><span style="color:#F07178;">[</span><span style="color:#F78C6C;">0</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&gt;=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">dmin</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&lt;=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">dmax</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#A6ACCD;">capixel</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">pop</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">setbeardhairpixel</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#F07178;"> (</span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">key</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">in</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">beardhairaim</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#F07178;"> (</span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">item</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">of</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">beardhairaim</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">key</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">point</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">beardhairpixel</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">push</span><span style="color:#F07178;">([</span><span style="color:#82AAFF;">Number</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">item</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">beardhairaim</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">key</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">row</span><span style="color:#F07178;">])</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><h4 id="_1-4-3-坐标点绘制" tabindex="-1">1.4.3 坐标点绘制 <a class="header-anchor" href="#_1-4-3-坐标点绘制" aria-label="Permalink to &quot;1.4.3 坐标点绘制&quot;">​</a></h4><p>当所有点信息准备好后，就可以开始绘制了，这里我使用requestanimationframe函数，配合递归的方式进行动画的绘制</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">drawbody</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">tools</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">fillStyle</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">color</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// 颜色自定义，或者可以事先加入道点集合对象里。</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&gt;=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">a</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">躯体绘制结束</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">renderframerate</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// 帧率控制</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#82AAFF;">requestAnimationFrame</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">drawcap</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// 开始绘制帽子</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">else</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">renderframerate</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">%</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">5</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">==</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">tools</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">fillRect</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">a</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;">][</span><span style="color:#F78C6C;">0</span><span style="color:#F07178;">] </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">25</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">a</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;">][</span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">] </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">25</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">25</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">25</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// 像素点填充</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">i</span><span style="color:#89DDFF;">++;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">renderframerate</span><span style="color:#89DDFF;">++;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#82AAFF;">requestAnimationFrame</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">drawbody</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">else</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">renderframerate</span><span style="color:#89DDFF;">++;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#82AAFF;">requestAnimationFrame</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">drawbody</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">drawbearhair</span><span style="color:#89DDFF;">(){...}</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">drawupclothing</span><span style="color:#89DDFF;">(){...}</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">...</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">drawbody</span><span style="color:#A6ACCD;">() </span><span style="color:#676E95;font-style:italic;">// 马里奥绘制 启动！</span></span>
<span class="line"></span></code></pre></div><p>ogay，至此我就得到了一组马里奥生成动画。这意味着我可以通过这种方式根据声明点集合，使用不同的函数去得到点集合坐标，然后递归绘制每一个点，每一幅图画；不仅仅是生成动画，逐帧动画也是可以实现的。</p><h2 id="_2-动画绘制" tabindex="-1">2.动画绘制 <a class="header-anchor" href="#_2-动画绘制" aria-label="Permalink to &quot;2.动画绘制&quot;">​</a></h2><p>有了探索阶段打下的基础，我可以尝试去做一组真正的动画。</p><h3 id="_2-1-绘图准备" tabindex="-1">2.1 绘图准备 <a class="header-anchor" href="#_2-1-绘图准备" aria-label="Permalink to &quot;2.1 绘图准备&quot;">​</a></h3><p>首先你需要画好一组动画，由于是简单的像素动画，这里我准备了七张画，是一只猫的走路动画（只有脚部分动画）</p><h3 id="_2-2-数据声明" tabindex="-1">2.2 数据声明 <a class="header-anchor" href="#_2-2-数据声明" aria-label="Permalink to &quot;2.2 数据声明&quot;">​</a></h3><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> catoutline </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">info</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">catdemo</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">isoutline</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">type</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">animal</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">length</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">32</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">height</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">19</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">pointsize</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">15</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">innercolor</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">#fed9d0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">catail</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">catail</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">length</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">8</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">height</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">8</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">startx</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">starty</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">4</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">pointstype</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">vertically</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">points</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">      [</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">4</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">5</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      [</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">6</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      [</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">6</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      [</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">7</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      [</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">7</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      [</span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">8</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      [</span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">8</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      [</span><span style="color:#F78C6C;">4</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">8</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">join</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">catbody</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">outlinecolor</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">#835e1d</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">innercolor</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">#fed9d0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">catfoot1</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">catfoot1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">length</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">19</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">height</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">startx</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">8</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">starty</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">15</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">pointstype</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">horizontally</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">pointsrule</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">      [</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">s</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">e</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">7</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">s</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">12</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">e</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">16</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">s</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">16</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">e</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">18</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">      ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      [</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">s</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">e</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">s</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">e</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">6</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">s</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">12</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">e</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">15</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">s</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">15</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">e</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">18</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">      ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      [</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">s</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">e</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">s</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">e</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">6</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">s</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">12</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">e</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">15</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">s</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">15</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">e</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">18</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">      ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">points</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">      [</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">7</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">8</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">9</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">10</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">11</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">12</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">16</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">18</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      [</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">6</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">12</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">15</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">18</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      [</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">6</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">12</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">15</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">18</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      [</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">4</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">5</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">13</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">14</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">16</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">17</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">join</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">catbody</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">outlinecolor</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">#835e1d</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">innercolor</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">#fed9d0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">catbody</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">catbody</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">length</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">24</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">height</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">14</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">startx</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">8</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">starty</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">pointstype</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">horizontally</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">pointsrule</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">points</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">      [</span><span style="color:#F78C6C;">15</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">20</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">21</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      [</span><span style="color:#F78C6C;">15</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">22</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      [</span><span style="color:#F78C6C;">14</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">23</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      [</span><span style="color:#F78C6C;">6</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">7</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">8</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">9</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">10</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">11</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">12</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">13</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">23</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      [</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">4</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">5</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">23</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      [</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">23</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      [</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">22</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      [</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">21</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      [</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">20</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      [</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">20</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      [</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">20</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      [</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">19</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      [</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">18</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">// [1, 8, 9, 10, 11, 12, 13],</span></span>
<span class="line"><span style="color:#A6ACCD;">    ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">join</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">catail</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">catfoot</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">catear</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">outlinecolor</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">#835e1d</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">innercolor</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">#fed9d0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">...</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>解释一下，由于我临摹的猫像素画带有外轮廓，且有大部分同色点，所以我针对这种图像使用先渲染外轮廓，后填充内色的方式进行渲染，实现手法相对复杂一些，不过我会好好说明的！</p><h4 id="_2-2-1-数据说明" tabindex="-1">2.2.1 数据说明 <a class="header-anchor" href="#_2-2-1-数据说明" aria-label="Permalink to &quot;2.2.1 数据说明&quot;">​</a></h4><p>如catoutline所示，我偷懒没有分开而是写入一个对象内（怎么写都可以，只要你最后得到点集合数据，方便渲染，收集方便，减少心智负担就可以）；info对象是整个数据集合的一个综合说明，实际没有任何作用（只是给我看的，你看这个集合是catdemo，说明猫的，isoutline，外轮廓绘制手法，type动物，这个图像长32个点，高19个点，每个点都是15px，填充颜色为#fed9d0）；</p><p>然后就是对给个部分的声明，比如catail；同样的有一些信息说明该对象，比如catail长8，宽8，x轴起始点为0，y轴起始点为4（起始点是很重要的信息，控制图像的位置），绘制方式是vertically，竖直方向绘制，也就是从上到下，从左到右这样绘制。points记录尾部的轮廓线信息，和pointstype对应，所以该数组记录的是y轴上的点位信息，从上到下，从左到右的y轴点位信息。</p><p>此外绘制方式是horizontally就说明是水平绘制，从左到右，从上到下记录x轴点集合信息，这里就不过多赘述。</p><p>是使用vertically，还是horizontally绘制方法，取决于该部分哪种绘制复杂度更高，理论上统一也可以，只是我当时考虑的时候是，某某部分使用xxx记录方式更方便（不用动脑子）。</p><h4 id="_2-2-2-数据转换" tabindex="-1">2.2.2 数据转换 <a class="header-anchor" href="#_2-2-2-数据转换" aria-label="Permalink to &quot;2.2.2 数据转换&quot;">​</a></h4><p>记录不用动脑的下场是转换的时候吃亏，由于我有两种记录方式，相对的我要写两种不同的转换方式，将记录的点集合转换为对应的坐标点。</p><p>因为是外轮廓的原因，只用渲染外轮廓的点的话，就没必要去转换点，所以我直接进行绘图。</p><h4 id="_2-2-3-前图清除" tabindex="-1">2.2.3 前图清除 <a class="header-anchor" href="#_2-2-3-前图清除" aria-label="Permalink to &quot;2.2.3 前图清除&quot;">​</a></h4><p>在绘制下一帧的时候，需要将上一帧的图像给清除，所以先准备好清除函数（清除画布自行百度）。这里我采用重设canvas 元素宽度的方式进行清除。</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">/* 画布清除 */</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">clearcanvas</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">tools</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#82AAFF;">resizeCanvas</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">tools</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">canvas</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// const { icount, ycount } = setbaseline(tools, 15);</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h4 id="_2-2-3-轮廓绘制" tabindex="-1">2.2.3 轮廓绘制 <a class="header-anchor" href="#_2-2-3-轮廓绘制" aria-label="Permalink to &quot;2.2.3 轮廓绘制&quot;">​</a></h4><p>我使用renderpoints来渲染外轮廓。</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">/* 渲染点阵 */</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/**</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * params </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * </span><span style="color:#89DDFF;font-style:italic;">@</span><span style="color:#C792EA;font-style:italic;">tools</span><span style="color:#676E95;font-style:italic;"> canvas context</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * </span><span style="color:#89DDFF;font-style:italic;">@</span><span style="color:#C792EA;font-style:italic;">part</span><span style="color:#676E95;font-style:italic;"> catdemo的部分</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * </span><span style="color:#89DDFF;font-style:italic;">@</span><span style="color:#C792EA;font-style:italic;">shift</span><span style="color:#676E95;font-style:italic;"> 图像偏移量</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">*/</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">renderpoints</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">tools</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">part</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">shift</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">startx</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">part</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">startx</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">starty</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">part</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">starty</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// horizontally模式下，从上往下，从左往右渲染，所以x轴数据就是每个具体值，y轴数据就是数组排序</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">part</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">pointstype</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">==</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">horizontally</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#F07178;"> (</span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">key</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">in</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">part</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">points</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#F07178;"> (</span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">thepoint</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">of</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">part</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">points</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">key</span><span style="color:#F07178;">]) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">nowx</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">startx</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">thepoint</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">shift</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">shifty</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">nowy</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">starty</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">Number</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">key</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">shift</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">shiftx</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">tools</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">fillStyle</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">catoutline</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">catbody</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">outlinecolor</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">part</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">partcolor</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#A6ACCD;">tools</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">fillStyle</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">part</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">partcolor</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">tools</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">fillRect</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">nowx</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">15</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">nowy</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">15</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">15</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">15</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#82AAFF;">addinnercolorpart</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">tools</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">part</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">shift</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/* 增加内色 */</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">addinnercolorpart</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">tools</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">part</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">shift</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">part</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">pointstype</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">==</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">vertically</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#F07178;"> (</span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">key</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">in</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">part</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">points</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">len</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">part</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">points</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">key</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">themin</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Math</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">min</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">part</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">points</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">key</span><span style="color:#F07178;">])</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">themax</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Math</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">max</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">part</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">points</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">key</span><span style="color:#F07178;">])</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">slen</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">themax</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">themin</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">slen</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">==</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">len</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;font-style:italic;">continue</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">else</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#82AAFF;">addcolor</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">tools</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">part</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">points</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">key</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">shift</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">slen</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">key</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#89DDFF;font-style:italic;">else</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">...</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>这里展示一部分渲染函数，renderpoints的核心思想就是遍历声明好的点集合，记录当前的点集合对应的坐标nowx,nowy，计算好偏移量和该部分对应的初始坐标，就可以完成对该轮廓点的绘制。</p><p>addinnercolorpart的思想就是，对于纵向部分的轮廓来说，只需要考虑其中间的空余点，去掉点集合中的最大和最小，就是需要渲染填充的部分，对于连续的轮廓，只需要剔除就可以。</p><h4 id="_2-2-4-动画循环" tabindex="-1">2.2.4 动画循环 <a class="header-anchor" href="#_2-2-4-动画循环" aria-label="Permalink to &quot;2.2.4 动画循环&quot;">​</a></h4><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// 绘制catdemo</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">drawfcat</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#A6ACCD;font-style:italic;">tools</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#A6ACCD;font-style:italic;">catoutline</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#A6ACCD;font-style:italic;">frame</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#A6ACCD;font-style:italic;">renderindex</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#A6ACCD;font-style:italic;">shiftx</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#A6ACCD;font-style:italic;">shifty</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">shift</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">shiftx</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">shifty</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#82AAFF;">clearcanvas</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">tools</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">frame</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">==</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">8</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">frame</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#82AAFF;">renderpoints</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">tools</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">catoutline</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">catbody</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">shift</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// 脚部动画</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#82AAFF;">renderpoints</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">tools</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">catoutline</span><span style="color:#F07178;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">catfoot</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">frame</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">shift</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#82AAFF;">renderpoints</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">tools</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">catoutline</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">catear</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">shift</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// 尾部抖动</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">frame</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">%</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">2</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">==</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">renderpoints</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">tools</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">catoutline</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">catail</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">shift</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">else</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">renderpoints</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">tools</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">catoutline</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">catail2</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">shift</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">shifty</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&lt;=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">50</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">renderpoints</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">tools</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">catoutline</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">cateyes</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">shift</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">else</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">renderpoints</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">tools</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">catoutline</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">cateyes2</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">shift</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#82AAFF;">renderpoints</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">tools</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">catoutline</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">catface</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">shift</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">renderindex</span><span style="color:#89DDFF;">++;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// 帧率检测，根据不同设备帧率做出不同延迟</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">delay</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">fps</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">160</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">delay</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">20</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">else</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">fps</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">120</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">delay</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">15</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">else</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">fps</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">90</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">delay</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">10</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">else</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">delay</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">5</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">renderindex</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">%</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">delay</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">==</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">frame</span><span style="color:#89DDFF;">++;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">requestAnimationFrame</span><span style="color:#F07178;">(</span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#82AAFF;">drawfcat</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">tools</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">catoutline</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">frame</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">renderindex</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">shiftx</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">shifty</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">else</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">requestAnimationFrame</span><span style="color:#F07178;">(</span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#82AAFF;">drawfcat</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">tools</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">catoutline</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">frame</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">renderindex</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">shiftx</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">shifty</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>drawfcat是一个递归函数，其参数都是一些必要的信息，tools是canvas上下文，catouline就是数据集，frame记录当前帧，renderindex是帧计数器，用于实现渲染延迟，不让动画跑的太快。shiftx，shifty是偏移量。</p><p>后续的renderpoints渲染每个身体部分，所有身体渲染玩就是对应的图，也就是我最开始绘制的像素画。</p><p>至此，我们得到一只走动的猫猫动画，可以在首页查看。</p><h2 id="_3-总结" tabindex="-1">3.总结 <a class="header-anchor" href="#_3-总结" aria-label="Permalink to &quot;3.总结&quot;">​</a></h2><p>这期有花去一个月时间，断断续续的完了编码，其实实现的东西很少很简单，任何一款动画软件都比我这个要好得多，可能只是为了实现我做画的一个执念吧。</p><p>这个手法是很笨拙的方式，就像小孩子手工做的纸玩具，所以这个系列是“整点没用的”；记录点集合的效率低下，绘图也是比较难的，这个真没有优化方法。</p><p>所以要拓展的话，需要从像素画的生产角度入手，在画好时就可以导出不同类型的数据，这样就快的多辣，不过我还没有这个思路去做这个，像素画生产工具，emmm我似乎还没达到这个能力去做...</p><p>其实这个动画本身还存在问题，比如偏移时候的绘制会出现奇怪的竖线，看着非常不舒服，而且我一时间也没想到如何处理...</p><p>不过还是很有意义的，这是我作为一名菜鸟独立探索code荒野的方式，就像开荒的勇士一样，探索未知的地域，令我担忧的是我还能有多少这样的日子可以给我去探索...</p><h2 id="附录" tabindex="-1">附录 <a class="header-anchor" href="#附录" aria-label="Permalink to &quot;附录&quot;">​</a></h2><p>引用链接和资料查询：</p><ul><li><p><a style="cursor:pointer;" href="https://juejin.cn/post/6995372234688692232"> canvas如何绘制像素风 </a></p></li><li><p><a style="cursor:pointer;" href="https://make8bitart.com/"> make8bitart像素在线画板 </a></p></li></ul></div></div></main><footer class="VPDocFooter" data-v-8f7aee6d data-v-96b7c34a><!--[--><!--]--><!----><!----></footer><!--[--><!--]--></div></div></div></div></div><!----><!--[--><!--]--></div><footer id="foo" data-v-6cc74b1c><div class="busuanzi" data-v-6cc74b1c><span id="busuanzi_container_site_pv" style="display:none;" data-v-6cc74b1c> 本站总访问量 <span id="busuanzi_value_site_pv" data-v-6cc74b1c></span>次 <span class="post-meta-divider" data-v-6cc74b1c>|</span></span><span id="busuanzi_container_site_uv" style="display:none;" data-v-6cc74b1c> 本站访客数 <span id="busuanzi_value_site_uv" data-v-6cc74b1c></span>人 </span></div><a href="https://process1024.github.io/vitepress/" data-v-6cc74b1c> vitepress </a> and <a href="https://github.com/clark-cui/vitepress-blog-zaun" data-v-6cc74b1c> vitepress-blog-zaun </a> | have a good time </footer><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"posts_gwycom.md\":\"a782c63a\",\"log.md\":\"efb65e45\",\"index.md\":\"efaa6d06\",\"posts_browserkernel.md\":\"497bd5b0\",\"posts_browser.md\":\"36305eb2\",\"posts_littlejs.md\":\"f4502dca\",\"teancherandfrends.md\":\"7a773f7e\",\"plan.md\":\"d07be13a\",\"archives.md\":\"3329ab3c\",\"posts_pixeltoolshow.md\":\"2b68f980\",\"api-examples.md\":\"f215df8d\",\"posts_littlejstart.md\":\"a20232a4\",\"posts_resumeshow.md\":\"5cff180f\",\"posts_vitepress重构.md\":\"96724cf6\",\"tag.md\":\"320986b5\",\"posts_songs.md\":\"60ba525f\",\"posts_threedemo.md\":\"8eb24804\",\"posts_webgpu.md\":\"c50ebeef\",\"posts_tensorflowjs.md\":\"9731e6c4\",\"posts_pixeltool.md\":\"68dd0ba3\",\"posts_pixeldemo.md\":\"a02e63b7\"}")
__VP_SITE_DATA__ = JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"🍂 stillwarter\",\"description\":\"A VitePress Site\",\"base\":\"/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"📈计划\",\"link\":\"/plan\"},{\"text\":\"🗃️标签\",\"link\":\"/tag\"},{\"text\":\"📖文章\",\"link\":\"/archives\"},{\"text\":\"📔友人帐\",\"link\":\"/teancherandfrends\"}],\"posts\":[{\"frontMatter\":{\"layout\":false,\"title\":\"简历动画展示\",\"date\":\"2024-06-02\"},\"regularPath\":\"/posts/resumeshow.html\"},{\"frontMatter\":{\"layout\":false,\"title\":\"像素画生成器展示\",\"date\":\"2024-06-02\"},\"regularPath\":\"/posts/pixeltoolshow.html\"},{\"frontMatter\":{\"layout\":false,\"title\":\"game start\",\"date\":\"2024-06-02\"},\"regularPath\":\"/posts/littlejstart.html\"},{\"frontMatter\":{\"title\":\"gwycom Demo\",\"layout\":false,\"date\":\"2024-06-02\"},\"regularPath\":\"/posts/gwycom.html\"},{\"frontMatter\":{\"title\":\"littlejs探索\",\"date\":\"2023-10-08\",\"outline\":\"deep\",\"tags\":[\"Stu\",\"探索\",\"荒野\",\"game\"]},\"regularPath\":\"/posts/littlejs.html\"},{\"frontMatter\":{\"title\":\"像素画生成器\",\"date\":\"2023-07-30\",\"outline\":\"deep\",\"tags\":[\"Stu\",\"探索\",\"荒野\",\"tool\",\"半成品\"]},\"regularPath\":\"/posts/pixeltool.html\"},{\"frontMatter\":{\"title\":\"像素初探\",\"date\":\"2023-06-12\",\"outline\":\"deep\",\"tags\":[\"Stu\",\"探索\",\"荒野\",\"整点没用的\",\"半成品\"]},\"regularPath\":\"/posts/pixelDemo.html\"},{\"frontMatter\":{\"title\":\"webgpuDemo\",\"outline\":\"deep\",\"date\":\"2023-06-04\",\"tags\":[\"WebGPU\",\"Stu\",\"荒野\",\"半成品\"]},\"regularPath\":\"/posts/webgpu.html\"},{\"frontMatter\":{\"title\":\"songs\",\"date\":\"2023-05-12\",\"outline\":\"deep\",\"tags\":[\"Stu\",\"整点没用的\",\"半成品\"]},\"regularPath\":\"/posts/songs.html\"},{\"frontMatter\":{\"title\":\"browserkernel（未完成）\",\"outline\":\"deep\",\"date\":\"2023-04-23\",\"tags\":[\"browser\",\"Stu\",\"荒野\"]},\"regularPath\":\"/posts/browserkernel.html\"},{\"frontMatter\":{\"title\":\"browser（未完成）\",\"outline\":\"deep\",\"date\":\"2023-04-23\",\"tags\":[\"browser\",\"Stu\",\"荒野\"]},\"regularPath\":\"/posts/browser.html\"},{\"frontMatter\":{\"title\":\"tensorflow.js Demo\",\"date\":\"2023-04-17\",\"outline\":\"deep\",\"tags\":[\"tfjs\",\"Stu\",\"Demo\"]},\"regularPath\":\"/posts/tensorflowjs.html\"},{\"frontMatter\":{\"title\":\"three.js Demo\",\"outline\":\"deep\",\"date\":\"2023-04-02\",\"tags\":[\"three.js\",\"Stu\",\"Demo\"]},\"regularPath\":\"/posts/threeDemo.html\"},{\"frontMatter\":{\"title\":\"vitepress的重构\",\"date\":\"2023-03-28\",\"tags\":[\"vitepress\",\"Stu\"]},\"regularPath\":\"/posts/vitepress重构.html\"}],\"postslength\":14,\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/stillwarter\"},{\"icon\":{\"svg\":\"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" id=\\\"body_1\\\" width=\\\"48\\\" height=\\\"48\\\"><g transform=\\\"matrix(1.3333334 0 0 1.3333334 0 0)\\\"><image  x=\\\"0\\\" y=\\\"0\\\" xlink:href=\\\"data:image/png;base64,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\\\" preserveAspectRatio=\\\"none\\\" width=\\\"15\\\" height=\\\"15\\\"/></g></svg>\"},\"link\":\"https://fishpi.cn\"}]},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":false}")</script>
    
  </body>
</html>